<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
	<head>
		<title>Depender - A MooTools Dependency Builder</title>
		<link rel="stylesheet" href="../../../../styles/reset.css" type="text/css" media="screen" title="no title" charset="utf-8">
		<link rel="stylesheet" href="../../../../styles/depender.css" type="text/css" media="screen" title="no title" charset="utf-8">
		<script src="../../../../php/build.php?require=Drag.Move,DomReady,Selectors"></script>
	</head>
	<body>
		<!-- 
		
			TWO WAYS TO RUN THIS PAGE:
			to run this test, you must first install depender:
			http://github.com/anutron/mootools-depender
			
			configure depender to point at your local -more and -core directories so that
			you can test your working codebase
			
			then drop this test in depender/php/Drag.Move.html 
			change the src and href for the link and script tags above from "../../../../" to "../"
			and hit it with your browser
			
			THE OTHER WAY:
			set up depender
			run "git submodule init" and "git submodule update"
			and then hit
			localhost/depender/libs/more/Tests/DependerTests/Drag.Move.html
			
		 -->
		<script>
		// dbug = {
		// 	log: window.console ? console.log.bind(console) : $empty
		// };
		
		window.addEvent('domready', function(){
			$$('.container').each(function(container) {
				var box = container.getElement('.box').setStyle('margin', '7px 9px 11px 13px');
				box.makeDraggable({
					container: container,
					includeMargins: box.hasClass('includeMargins')
				});
			});
		
		
		});
		</script>
		<style>
			body {
				height: 100%;
				margin-bottom: 500px;
			}
			body * {
				position: static;
			}
			.box {
				width: 30px;
				height: 30px;
				background-color: #acf;
				border: solid #333;
				border-width: 2px 4px 6px 8px;
				padding: 5px 7px 9px 12px;
				margin: 7px 9px 11px 13px;
			}

			.container {
				width: 250px;
				height: 250px;
				border: solid black;
				border-width: 4px 12px 6px 8px;
				background: #ccc;
				padding: 6px 8px 10px 12px;
				margin: 20px 11px 13px 14px;
			}
			.op {
				position: absolute; 
				padding: 40px; 
				top: 0px
			}
		</style>

		<div class="op">
			<div class="container">
				container: not relative<br/>
				box: absolute<br/>
				includeMargins: false<br/>

				<div class="box"></div>

			</div>
		</div>
		<div class="op" style="left: 300px;">
			<div class="container">
				container: not relative<br/>
				box: absolute<br/>
				includeMargins: true<br/>

				<div class="box includeMargins"></div>

			</div>
		</div>
		<div class="op" style="left: 600px;" class="op">
			<div class="container" style="position: relative">
				container: relative<br/>
				box: absolute<br/>
				includeMargins: false<br/>

				<div class="box"></div>

			</div>
		</div>
		<div style="left: 900px;" class="op">
			<div class="container" style="position: relative">
				container: relative<br/>
				box: absolute<br/>
				includeMargins: true<br/>

				<div class="box includeMargins"></div>

			</div>
		</div>

<div style="position: relative; top: 300px">

		<div style="top: 0px" class="op">
			<div class="container">
				container: not relative<br/>
				box: relative<br/>
				includeMargins: false<br/>

				<div class="box" style="position: relative"></div>

			</div>
		</div>
		<div style="left: 300px;" class="op">
			<div class="container">
				container: not relative<br/>
				box: relative<br/>
				includeMargins: true<br/>

				<div class="box includeMargins" style="position: relative"></div>

			</div>
		</div>

		<div style="left: 600px;" class="op">
			<div class="container" style="position: relative">
				container: relative<br/>
				box: relative<br/>
				includeMargins: false<br/>

				<div class="box" style="position: relative"></div>

			</div>
		</div>
		<div style="left: 900px;" class="op">
			<div class="container" style="position: relative">
				container: relative<br/>
				box: relative<br/>
				includeMargins: true<br/>

				<div class="box includeMargins" style="position: relative"></div>

			</div>
		</div>
</div>

	</body>
</html>